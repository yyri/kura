<?xml version="1.0" encoding="UTF-8"?>

<configuration>

	<!-- Poll groups are a specification of a poll tasks. For every poll group 
		a poll thread will be created. -->
	<pollGroups>
		<pollGroup>
			<name>fastPoll</name>
			<pollInterval>1000</pollInterval>
		</pollGroup>
		<pollGroup>
			<name>slowPoll</name>
			<pollInterval>300000</pollInterval>
		</pollGroup>
	</pollGroups>

	<!-- Publish groups are a specification of the publish messages. This includes 
		topic, interval or if the message will be published on a change of the metrics 
		assigned to the group. -->
	<publishGroups>
		<publishGroup>
			<name>dataGroup</name>
			<publishInterval>10000</publishInterval>
			<onChange>false</onChange>
			<topic>data</topic>
			<qos>0</qos>
		</publishGroup>
		<publishGroup>
			<name>alarmGroup</name>
			<publishInterval>1000</publishInterval>
			<onChange>true</onChange>
			<topic>alarm</topic>
			<qos>0</qos>
		</publishGroup>
	</publishGroups>

	<!-- Assets is a specification of the PLC registers, coils etc, along with 
		their semantics. Registers and coils can be grouped in ranges for efficiency. 
		Registers and coils ranges are assigned to a poll group determining their 
		poll rate. Individual registers or coils are associated to a publish group 
		determining where/when/how the associated metrics will be published. -->
	<assets>
		<asset>
			<model>xw764k</model>
			<holdingRegisters>
				<!-- A range of holding registers that can be read with a single request. 
					This element can be repeated -->
				<registers>
					<address>0100</address>
					<pollGroup>slowPoll</pollGroup>

					<!-- register specification. Analog Input -->
					<register>
						<id>0</id>
						<access>R</access>
						<publishGroup>dataGroup</publishGroup>
						<type>int16</type>
						<name>Room</name>
						<disabled>false</disabled>
						<scale>0.1</scale>
						<offset>0</offset>
						<units>C</units>
						<min>-100</min>
						<max>100</max>
					</register>
					<register>
						<id>1</id>
						<access>R</access>
						<publishGroup>dataGroup</publishGroup>
						<type>int16</type>
						<name>Evaporator</name>
						<disabled>false</disabled>
						<scale>0.1</scale>
						<offset>0</offset>
						<units>C</units>
						<min>-100</min>
						<max>100</max>
					</register>
					<register>
						<id>2</id>
						<access>R</access>
						<publishGroup>dataGroup</publishGroup>
						<type>int16</type>
						<name>Display</name>
						<disabled>false</disabled>
						<scale>0.1</scale>
						<offset>0</offset>
						<units>C</units>
						<min>-100</min>
						<max>100</max>
					</register>
				</registers>

				<registers>
					<address>0800</address>
					<pollGroup>fastPoll</pollGroup>

					<!-- register specification. Alarms -->
					<register>
						<id>0</id>
						<access>R</access>
						<disabled>false</disabled>
						<publishGroup>alarmGroup</publishGroup>
						<type>bitmap16</type>
						<fields>
							<field>
								<mask>0100</mask>
								<shift>8</shift>
								<name>OnOffOut</name>
							</field>
							<field>
								<mask>0200</mask>
								<shift>9</shift>
								<name>Defrost</name>
							</field>
                            <field>
                                <mask>0400</mask>
                                <shift>10</shift>
                                <name>Defrost2</name>
                            </field>
                            <field>
                                <mask>0800</mask>
                                <shift>11</shift>
                                <name>Alarm</name>
                            </field>
                            <field>
                                <mask>1000</mask>
                                <shift>12</shift>
                                <name>Light</name>
                            </field>
                            <field>
                                <mask>2000</mask>
                                <shift>13</shift>
                                <name>Fan</name>
                            </field>
                            <field>
                                <mask>4000</mask>
                                <shift>14</shift>
                                <name>Aux</name>
                            </field>
						</fields>
					</register>
					<register>
                        <id>1</id>
                        <access>R</access>
                        <disabled>false</disabled>
                        <publishGroup>alarmGroup</publishGroup>
                        <type>bitmap16</type>
                        <fields>
                            <field>
                                <mask>0100</mask>
                                <shift>8</shift>
                                <name>Cooling</name>
                            </field>
                            <field>
                                <mask>0200</mask>
                                <shift>9</shift>
                                <name>Cooling2</name>
                            </field>
                        </fields>
                    </register>
				</registers>

                <registers>
                    <address>0101</address>
                    <pollGroup>fastPoll</pollGroup>

                    <!-- register specification. Alarms -->
                    <register>
                        <id>0</id>
                        <access>R</access>
                        <disabled>false</disabled>
                        <publishGroup>alarmGroup</publishGroup>
                        <type>bitmap16</type>
                        <fields>
                            <field>
                                <mask>0003</mask>
                                <shift>0</shift>
                                <name>Pb1</name>
	                            <options>
	                                <option>
	                                    <name>NoError</name>
	                                    <value>0000</value>
	                                </option>
	                                <option>
	                                    <name>LowValuePb1</name>
	                                    <value>0001</value>
	                                </option>
	                                <option>
	                                    <name>HighValuePb1</name>
	                                    <value>0002</value>
	                                </option>
	                                <option>
	                                    <name>ErrorPb1</name>
	                                    <value>0003</value>
	                                </option>
	                            </options>
                            </field>
                        </fields>
                    </register>
                </registers>
                
                <!--Commands specification -->
                <commands>
                    <command>
	                    <id>0</id>
	                    <address>0500</address>
	                    <access>W</access>
	                    <disabled>false</disabled>
	                    <fields>
	                        <field>
	                            <name>DeviceOFF</name>
	                            <value>0001</value>
	                        </field>
	                        <field>
                                <name>DeviceON</name>
                                <value>0101</value>
	                        </field>
                            <field>
                                <name>ActiveDefrost</name>
                                <value>0202</value>
                            </field>
                            <field>
                                <name>FastFreezeOFF</name>
                                <value>0004</value>
                            </field>
                            <field>
                                <name>FastFreezeON</name>
                                <value>0404</value>
                            </field>
                            <field>
                                <name>KeyboardLOCK</name>
                                <value>0808</value>
                            </field>
                            <field>
                                <name>KeyboardUNLOCK</name>
                                <value>0008</value>
                            </field>
                            <field>
                                <name>AlarmMute</name>
                                <value>1010</value>
                            </field>
                            <field>
                                <name>MasterDefrostOFF</name>
                                <value>0020</value>
                            </field>
                            <field>
                                <name>MasterDefrostON</name>
                                <value>2020</value>
                            </field>
                            <field>
                                <name>EnergySavingActive</name>
                                <value>4040</value>
                            </field>
                            <field>
                                <name>EnergySavingNotActive</name>
                                <value>0040</value>
                            </field>
	                    </fields>
	                </command>
                    <command>
                        <id>1</id>
                        <address>0501</address>
                        <access>W</access>
                        <disabled>false</disabled>
                        <fields>
                            <field>
                                <name>HolidayOFF</name>
                                <value>2020</value>
                            </field>
                            <field>
                                <name>HolidayON</name>
                                <value>0020</value>
                            </field>
                            <field>
                                <name>AuxON</name>
                                <value>4040</value>
                            </field>
                            <field>
                                <name>AuxOFF</name>
                                <value>0040</value>
                            </field>
                            <field>
                                <name>LightON</name>
                                <value>8080</value>
                            </field>
                            <field>
                                <name>LightOFF</name>
                                <value>0080</value>
                            </field>
                        </fields>
                    </command>
	            </commands>
			</holdingRegisters>
		</asset>
		<asset>
            <model>xw60lrt</model>
            <holdingRegisters>
                <!-- A range of holding registers that can be read with a single request. 
                    This element can be repeated -->
                <registers>
                    <address>0108</address>
                    <pollGroup>slowPoll</pollGroup>

                    <!-- register specification. Analog Input -->
                    <register>
                        <id>0</id>
                        <access>R</access>
                        <publishGroup>dataGroup</publishGroup>
                        <type>int16</type>
                        <name>Probe1</name>
                        <disabled>false</disabled>
                        <scale>0.1</scale>
                        <offset>0</offset>
                        <units>C</units>
                        <min>-100</min>
                        <max>100</max>
                    </register>
                    <register>
                        <id>1</id>
                        <access>R</access>
                        <publishGroup>dataGroup</publishGroup>
                        <type>int16</type>
                        <name>Probe2</name>
                        <disabled>false</disabled>
                        <scale>0.1</scale>
                        <offset>0</offset>
                        <units>C</units>
                        <min>-100</min>
                        <max>100</max>
                    </register>
                    <register>
                        <id>2</id>
                        <access>R</access>
                        <publishGroup>dataGroup</publishGroup>
                        <type>int16</type>
                        <name>Probe3</name>
                        <disabled>false</disabled>
                        <scale>0.1</scale>
                        <offset>0</offset>
                        <units>C</units>
                        <min>-100</min>
                        <max>100</max>
                    </register>
                </registers>
            </holdingRegisters>
            <coils>
                <!-- A range of coils that can be read with a single request. 
                This element can be repeated -->
                <registers>
                    <address>0208</address>
                    <pollGroup>fastPoll</pollGroup>
                    
                    <!-- register specification. Alarms -->
                    <register>
                        <id>0</id>
                        <access>R</access>
                        <disabled>false</disabled>
                        <publishGroup>alarmGroup</publishGroup>
                        <type>bitmap16</type>
                        <fields>
                            <field>
                                <mask>0001</mask>
                                <shift>0</shift>
                                <name>ErrorPb1</name>
                            </field>
                        </fields>
                    </register>
                    <register>
                        <id>2</id>
                        <access>R</access>
                        <disabled>false</disabled>
                        <publishGroup>alarmGroup</publishGroup>
                        <type>bitmap16</type>
                        <fields>
                            <field>
                                <mask>0001</mask>
                                <shift>0</shift>
                                <name>ErrorPb2</name>
                            </field>
                        </fields>
                    </register>
                     <register>
                        <id>2</id>
                        <access>R</access>
                        <disabled>false</disabled>
                        <publishGroup>alarmGroup</publishGroup>
                        <type>bitmap16</type>
                        <fields>
                            <field>
                                <mask>0001</mask>
                                <shift>0</shift>
                                <name>ErrorPb3</name>
                            </field>
                        </fields>
                    </register>
                    <register>
                        <id>3</id>
                        <access>R</access>
                        <disabled>false</disabled>
                        <publishGroup>alarmGroup</publishGroup>
                        <type>bitmap16</type>
                        <fields>
                            <field>
                                <mask>0001</mask>
                                <shift>0</shift>
                                <name>ErrorPb4</name>
                            </field>
                        </fields>
                    </register>
                    <register>
                        <id>4</id>
                        <access>R</access>
                        <disabled>false</disabled>
                        <publishGroup>alarmGroup</publishGroup>
                        <type>bitmap16</type>
                        <fields>
                            <field>
                                <mask>0001</mask>
                                <shift>0</shift>
                                <name>HighValuePb1</name>
                            </field>
                        </fields>
                    </register>
                    <register>
                        <id>5</id>
                        <access>R</access>
                        <disabled>false</disabled>
                        <publishGroup>alarmGroup</publishGroup>
                        <type>bitmap16</type>
                        <fields>
                            <field>
                                <mask>0001</mask>
                                <shift>0</shift>
                                <name>LowValuePb1</name>
                            </field>
                        </fields>
                    </register>
                    <register>
                        <id>6</id>
                        <access>R</access>
                        <disabled>false</disabled>
                        <publishGroup>alarmGroup</publishGroup>
                        <type>bitmap16</type>
                        <fields>
                            <field>
                                <mask>0001</mask>
                                <shift>0</shift>
                                <name>HighValuePb2</name>
                            </field>
                        </fields>
                    </register>
                    <register>
                        <id>7</id>
                        <access>R</access>
                        <disabled>false</disabled>
                        <publishGroup>alarmGroup</publishGroup>
                        <type>bitmap16</type>
                        <fields>
                            <field>
                                <mask>0001</mask>
                                <shift>0</shift>
                                <name>LowValuePb2</name>
                            </field>
                        </fields>
                    </register>
                    <register>
                        <id>8</id>
                        <access>R</access>
                        <disabled>false</disabled>
                        <publishGroup>alarmGroup</publishGroup>
                        <type>bitmap16</type>
                        <fields>
                            <field>
                                <mask>0001</mask>
                                <shift>0</shift>
                                <name>ExternalAlarm</name>
                            </field>
                        </fields>
                    </register>
                    <register>
                        <id>9</id>
                        <access>R</access>
                        <disabled>false</disabled>
                        <publishGroup>alarmGroup</publishGroup>
                        <type>bitmap16</type>
                        <fields>
                            <field>
                                <mask>0001</mask>
                                <shift>0</shift>
                                <name>SevereAlarm</name>
                            </field>
                        </fields>
                    </register>
                    <register>
                        <id>10</id>
                        <access>R</access>
                        <disabled>false</disabled>
                        <publishGroup>alarmGroup</publishGroup>
                        <type>bitmap16</type>
                        <fields>
                            <field>
                                <mask>0001</mask>
                                <shift>0</shift>
                                <name>OpenDoor</name>
                            </field>
                        </fields>
                    </register>
                    <register>
                        <id>11</id>
                        <access>R</access>
                        <disabled>false</disabled>
                        <publishGroup>alarmGroup</publishGroup>
                        <type>bitmap16</type>
                        <fields>
                            <field>
                                <mask>0001</mask>
                                <shift>0</shift>
                                <name>EEPROMFailure</name>
                            </field>
                        </fields>
                    </register>
                </registers>
                <registers>
                    <address>0225</address>
                    <pollGroup>fastPoll</pollGroup>
                    <register>
                        <id>0</id>
                        <access>R</access>
                        <disabled>false</disabled>
                        <publishGroup>alarmGroup</publishGroup>
                        <type>bitmap16</type>
                        <fields>
                            <field>
                                <mask>0001</mask>
                                <shift>0</shift>
                                <name>RTCDataLost</name>
                            </field>
                        </fields>
                    </register>
                    <register>
                        <id>1</id>
                        <access>R</access>
                        <disabled>false</disabled>
                        <publishGroup>alarmGroup</publishGroup>
                        <type>bitmap16</type>
                        <fields>
                            <field>
                                <mask>0001</mask>
                                <shift>0</shift>
                                <name>RTCFailure</name>
                            </field>
                        </fields>
                    </register>
                </registers>
            </coils>
        </asset>
	</assets>

</configuration>